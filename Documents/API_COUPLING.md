# api 의존성/결합도 최소화
* 이 문서는 위에 대한 주제로 나의 생각을 적어보았다.

## 서론
* 이전에 필자의 방식은 화면에 종속된 api 였다.
* 좀 쉽게 말하면 화면을 제공하는 url과 1대1로 대응되었다.
* 이는 필요한 데이터를 한 번에 전달하는데에 초점을 두었으며
* 화면url은 모두 백엔드에서 api로 전달하는 식으로 만들었다.
* 그러나 백엔드와 프론트엔드를 나눈 현대의 방식에 이런 방법은 좋지 않았고,
* 마이크로서비스 아키텍처를 통해서 여러 api를 호출함으로써 오는 유연함과
* 정보의 다양성은 필자의 api를 바라보는 태도를 바꾸었다.

## 본론
* api를 화면에 종속적으로 만들지 말아라. 
* db도 나누고, 도메인도 나누고(마이크로서비스), api도 마치 함수처럼 나눈다. 
* 일례로 마이페이지를 만들때 마이페이지를 api를 만들지말고 
* 어떤 정보는 유저에서, 어떤 정보는 다른 DB에서 가져오는 방식으로 한다.
* 이는 마이크로서비스 아키텍처를 적용하지 않은 모놀리틱 방식에서도 구현 가능하다.
* 서버에서 제공하는 api는 마치 함수처럼 필요할때 가져다가 사용하듯 해야지, 이것을 무언가 하나에 종속적으로 만들면 상당히 피곤해지고,
* 유지보수가 완전히 꽝이다.

## 결론
* api는 마치 함수처럼 프론트에서 필요하면 필요한 api들을 여럿 호출해서 사용하는 방식으로하자.
* 반드시 한번의 api에서 모든 데이터를 다 가져와야하는 것은 좋지 않다.
* 쿠팡의 사례를 볼때 api를 필요한 부분에서 요청하여 가져오는 방식은 유지보수, 유연한 데이터 제공에 있어 아주 효과적이다.
* 제공하는 데이터의 양이 많아질 수록, 위와 같은 방법은 관리에 아주 효과적이고, 유연하다.
* [쿠팡의 사례](https://medium.com/coupang-engineering/%EB%8C%80%EC%9A%A9%EB%9F%89-%ED%8A%B8%EB%9E%98%ED%94%BD-%EC%B2%98%EB%A6%AC%EB%A5%BC-%EC%9C%84%ED%95%9C-%EC%BF%A0%ED%8C%A1%EC%9D%98-%EB%B0%B1%EC%97%94%EB%93%9C-%EC%A0%84%EB%9E%B5-184f7fdb1367)